{"version":3,"sources":["constants/types.js","actions/actions_figures.js","functions/downloadJson.js","constants/styles.js","components/Canvas/Canvas.jsx","components/Ellipse/Ellipse.jsx","components/Rect/Rect.jsx","container/Layout.jsx","functions/loadJson.js","reportWebVitals.js","reducers/reducer_figures.js","reducers/index.js","store.js","index.js"],"names":["TYPE_RECT","TYPE_ELLIPSE","ADD_FIGURE","DELETE_FIGURE","CLEAR_STATE","SET_FIGURES","LOAD_FIGURES","deleteFigure","figure","dispatch","type","payload","deleteFigureActionCreator","downloadJsonFile","localFigures","JSON","stringify","parse","localStorage","getItem","element","document","createElement","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","alert","figureWidth","figureHeight","styleEllipse","width","height","border","borderRadius","background","styleRect","connect","state","figures","reducer_figures","addFigure","addFigureActionCreator","setFigures","setFiguresActionCreator","canvasColRef","size","canvasRef","setMouse","mouse","setSelected","selected","onMouseMove","e","stopPropagation","x","pageX","current","offsetLeft","y","pageY","offsetTop","prevMouse","out","down","map","onMouseDown","isCursorOnAnyFigure","forEach","isCursorInFigure","newFigure","onMouseUp","onMouseOut","onMouseOver","onDragOver","preventDefault","onDrop","dataTransfer","getData","draggedFigure","ref","Ellipse","style","onDragStart","draggable","Rect","clearState","loadFigure","loadFigureActionCreator","useState","setSize","useRef","useEffect","offsetHeight","offsetWidth","setData","ctx","getContext","clearRect","beginPath","lineWidth","strokeStyle","fillStyle","fillRect","strokeRect","stroke","ellipse","Math","PI","fill","drawFigure","onkeydown","key","className","Container","Row","Col","sm","md","lg","padding","Button","variant","onClick","Form","File","label","accept","custom","onChange","target","files","reader","FileReader","readAsText","onload","newFile","result","onerror","console","log","error","loadend","abort","value","loadFile","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","combineReducers","action","setItem","filter","clear","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ddccda1d.chunk.js","sourcesContent":["export const TYPE_RECT = 'rect'\r\nexport const TYPE_ELLIPSE = 'ellipse'\r\n\r\nexport const ADD_FIGURE = 'ADD_FIGURE'\r\nexport const DELETE_FIGURE = 'DELETE_FIGURE'\r\nexport const CLEAR_STATE = 'CLEAR_STATE'\r\nexport const SET_FIGURES = 'SET_FIGURES'\r\nexport const LOAD_FIGURES = 'LOAD_FIGURES'","import {\r\n  ADD_FIGURE,\r\n  DELETE_FIGURE,\r\n  SET_FIGURES,\r\n  CLEAR_STATE,\r\n  LOAD_FIGURES,\r\n} from \"../constants/types\";\r\n\r\nconst deleteFigureActionCreator = (figure) => ({\r\n  type: DELETE_FIGURE,\r\n  payload: figure,\r\n});\r\nconst clearStateFigureActionCreator = () => ({\r\n  type: CLEAR_STATE,\r\n});\r\n\r\nconst addFigureActionCreator = (figure) => ({\r\n  type: ADD_FIGURE,\r\n  payload: figure,\r\n});\r\n\r\nconst loadFigureActionCreator = (figure) => ({\r\n  type: LOAD_FIGURES,\r\n  payload: figure,\r\n});\r\n\r\nconst setFiguresActionCreator = (figures) => ({\r\n  type: SET_FIGURES,\r\n  payload: figures,\r\n});\r\n\r\nexport const deleteFigure = (figure) => (dispatch) => {\r\n  dispatch(deleteFigureActionCreator(figure));\r\n};\r\n\r\nexport const addFigure = (figure) => (dispatch) => {\r\n  dispatch(addFigureActionCreator(figure));\r\n};\r\n\r\nexport const loadFigure = (figure) => (dispatch) => {\r\n  dispatch(loadFigureActionCreator(figure));\r\n};\r\n\r\nexport const setFigures = (figures) => (dispatch) => {\r\n  dispatch(setFiguresActionCreator(figures));\r\n};\r\n\r\nexport const clearState = () => (dispatch) => {\r\n  dispatch(clearStateFigureActionCreator());\r\n};\r\n","export const downloadJsonFile = () => {\r\n  const localFigures = JSON.stringify(\r\n    JSON.parse(localStorage.getItem(\"figures\"))\r\n  );\r\n  if (localFigures) {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([localFigures], {\r\n      type: \"application/json;charset=utf-8\",\r\n    });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"output.json\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    } else {\r\n    alert(\"No data to download!\");\r\n  }\r\n};\r\n","export const figureWidth = 80;\r\nexport const figureHeight = 50;\r\nexport const styleEllipse = {\r\n  width: figureWidth,\r\n  height: figureHeight,\r\n  border: \"1px solid #000\",\r\n  borderRadius: \"50%\",\r\n  background: \"#00f\",\r\n};\r\nexport const styleRect = {\r\n  width: figureWidth,\r\n  height: figureHeight,\r\n  border: \"1px solid #000\",\r\n  background: \"#0e8206\",\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { figureWidth, figureHeight } from \"../../constants/styles\";\r\nimport {\r\n  deleteFigure,\r\n  addFigure,\r\n  setFigures,\r\n} from \"../../actions/actions_figures\";\r\n\r\nconst Canvas = ({\r\n  canvasColRef,\r\n  figures,\r\n  size,\r\n  canvasRef,\r\n  setMouse,\r\n  mouse,\r\n  setSelected,\r\n  selected,\r\n  deleteFigure,\r\n  addFigure,\r\n  setFigures,\r\n}) => {\r\n  const isCursorInFigure = (x, y, figure) => {\r\n    return (\r\n      x > figure.x &&\r\n      x < figure.x + figureWidth &&\r\n      y > figure.y &&\r\n      y < figure.y + figureHeight\r\n    );\r\n  };\r\n  const onMouseDown = (e) => {\r\n    e.stopPropagation();\r\n    let isCursorOnAnyFigure = false;\r\n    setMouse((prevMouse) => ({ ...prevMouse, down: true }));\r\n    figures.forEach((figure) => {\r\n      if (isCursorInFigure(mouse.x, mouse.y, figure)) {\r\n        const newFigure = figure;\r\n        setSelected(figure);\r\n        deleteFigure(figure);\r\n        addFigure(newFigure);\r\n        isCursorOnAnyFigure = true;\r\n      }\r\n    });\r\n\r\n    if (!isCursorOnAnyFigure) {\r\n      setSelected(false);\r\n    }\r\n  };\r\n\r\n  const onMouseUp = (e) => {\r\n    e.stopPropagation();\r\n    setMouse((prevMouse) => ({ ...prevMouse, down: false }));\r\n  };\r\n  const onMouseOut = (e) => {\r\n    if (mouse.down && selected) {\r\n      deleteFigure(selected);\r\n      setMouse((prevMouse) => ({\r\n        ...prevMouse,\r\n        out: true,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e) => {\r\n    e.stopPropagation();\r\n    const x = e.pageX - canvasColRef.current.offsetLeft;\r\n    const y = e.pageY - canvasColRef.current.offsetTop;\r\n    setMouse((prevMouse) => ({\r\n      ...prevMouse,\r\n      x,\r\n      y,\r\n      out: false,\r\n    }));\r\n\r\n    if (selected && mouse.down) {\r\n      setFigures(\r\n        figures.map((figure) => {\r\n          if (figure === selected) {\r\n            figure.x = mouse.x - figureWidth / 2;\r\n            figure.y = mouse.y - figureHeight / 2;\r\n          }\r\n          return figure;\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const onMouseOver = (e) => {\r\n    e.stopPropagation();\r\n    if (selected && mouse.down) {\r\n      addFigure(selected);\r\n      setMouse((prevMouse) => ({\r\n        ...prevMouse,\r\n        out: false,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const onDrop = (e) => {\r\n    e.stopPropagation();\r\n    let type = e.dataTransfer.getData(\"type\");\r\n    const draggedFigure = {\r\n      x: mouse.x - figureWidth / 2,\r\n      y: mouse.y - figureHeight / 2,\r\n      type,\r\n    };\r\n    addFigure(draggedFigure);\r\n    setSelected(draggedFigure);\r\n  };\r\n\r\n  const onDragOver = (e) => {\r\n    e.preventDefault();\r\n    const x = e.pageX - canvasColRef.current.offsetLeft;\r\n    const y = e.pageY - canvasColRef.current.offsetTop;\r\n    setMouse((prevMouse) => ({\r\n      ...prevMouse,\r\n      x,\r\n      y,\r\n    }));\r\n  };\r\n\r\n  const body = (\r\n    <canvas\r\n      width={size.width}\r\n      height={size.height}\r\n      onMouseMove={onMouseMove}\r\n      onMouseDown={onMouseDown}\r\n      onMouseUp={onMouseUp}\r\n      onMouseOut={onMouseOut}\r\n      onMouseOver={onMouseOver}\r\n      onDragOver={onDragOver}\r\n      onDrop={onDrop}\r\n      ref={canvasRef}></canvas>\r\n  );\r\n  return body;\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  figures: state.reducer_figures.figures,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  deleteFigure,\r\n  addFigure,\r\n  setFigures,\r\n})(Canvas);\r\n","import React from \"react\";\r\nimport { TYPE_ELLIPSE } from \"../../constants/types\";\r\n\r\nconst Ellipse = ({ style, onDragStart }) => {\r\n  const body = (\r\n    <div\r\n      draggable\r\n      style={style}\r\n      onDragStart={(e) => onDragStart(e, TYPE_ELLIPSE)}></div>\r\n  );\r\n  return body;\r\n};\r\n\r\nexport default Ellipse;\r\n","import React from \"react\";\r\nimport { TYPE_RECT } from \"../../constants/types\";\r\n\r\nconst Rect = ({ style, onDragStart }) => {\r\n  const body = (\r\n    <div\r\n      draggable\r\n      style={style}\r\n      onDragStart={(e) => onDragStart(e, TYPE_RECT)}></div>\r\n  );\r\n  return body;\r\n};\r\n\r\nexport default Rect;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Row, Col, Button, Form } from \"react-bootstrap\";\r\nimport \"./layout.css\";\r\nimport {\r\n  deleteFigure,\r\n  loadFigure,\r\n  clearState,\r\n} from \"../actions/actions_figures\";\r\nimport { downloadJsonFile } from \"../functions/downloadJson\";\r\nimport { loadFile } from \"../functions/loadJson\";\r\nimport Canvas from \"../components/Canvas/Canvas\";\r\nimport Ellipse from \"../components/Ellipse/Ellipse\";\r\nimport Rect from \"../components/Rect/Rect\";\r\nimport {\r\n  figureWidth,\r\n  figureHeight,\r\n  styleEllipse,\r\n  styleRect,\r\n} from \"../constants/styles\";\r\nimport { TYPE_RECT, TYPE_ELLIPSE } from \"../constants/types\";\r\n\r\nconst Layout = ({ figures, deleteFigure, clearState, loadFigure }) => {\r\n  const [size, setSize] = useState({\r\n    height: 0,\r\n    width: 0,\r\n  });\r\n  const [selected, setSelected] = useState(false);\r\n  const [mouse, setMouse] = useState({});\r\n\r\n  const canvasColRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (canvasColRef.current) {\r\n      setSize({\r\n        ...size,\r\n        height: canvasColRef.current.offsetHeight,\r\n        width: canvasColRef.current.offsetWidth,\r\n      });\r\n    }\r\n  }, [canvasColRef]);\r\n\r\n  const onMouseUpContent = (e) => {\r\n    if (selected && mouse.down && mouse.out) {\r\n      setSelected(false);\r\n      setMouse((prevMouse) => ({\r\n        ...prevMouse,\r\n        down: false,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const onDragStart = (e, type) => {\r\n    e.dataTransfer.setData(\"type\", type);\r\n  };\r\n\r\n  const drawFigure = (figure, ctx) => {\r\n    ctx.lineWidth = 1;\r\n    if (figure === selected) {\r\n      ctx.lineWidth = 4;\r\n    }\r\n    ctx.strokeStyle = \"black\";\r\n    switch (figure.type) {\r\n      case TYPE_RECT:\r\n        ctx.fillStyle = styleRect.background;\r\n        ctx.fillRect(figure.x, figure.y, figureWidth, figureHeight);\r\n        ctx.strokeRect(figure.x, figure.y, figureWidth, figureHeight);\r\n        ctx.stroke();\r\n        break;\r\n      case TYPE_ELLIPSE:\r\n        ctx.fillStyle = styleEllipse.background;\r\n        ctx.ellipse(\r\n          figure.x + figureWidth / 2,\r\n          figure.y + figureHeight / 2,\r\n          figureWidth / 2,\r\n          figureHeight / 2,\r\n          0,\r\n          0,\r\n          2 * Math.PI\r\n        );\r\n        ctx.fill();\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        break;\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, size.width, size.height);\r\n    ctx.beginPath();\r\n\r\n    figures.forEach((figure) => {\r\n      drawFigure(figure, ctx);\r\n    });\r\n\r\n    document.onkeydown = (e) => {\r\n      if (e.key === \"Delete\" && selected) {\r\n        deleteFigure(selected);\r\n        setSelected(false);\r\n      }\r\n    };\r\n  }, [size, selected, figures, mouse]);\r\n\r\n  const body = (\r\n    <div className=\"fullscreen\" onMouseUp={onMouseUpContent}>\r\n      <Container>\r\n        <Row className=\"headTable\">\r\n          <Col className=\"borderT\" sm={4} md={4} lg={4}>\r\n            Figures\r\n          </Col>\r\n          <Col className=\"borderT\" sm={8} md={8} lg={8}>\r\n            Canvas\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"contentBlock\">\r\n          <Col className=\"borderT\" sm={4} md={4} lg={4}>\r\n            <Row className=\"justify-content-md-center\" style={{ padding: 10 }}>\r\n              <Ellipse style={styleEllipse} onDragStart={onDragStart} />\r\n            </Row>\r\n            <Row className=\"justify-content-md-center\" style={{ padding: 10 }}>\r\n              <Rect style={styleRect} onDragStart={onDragStart} />\r\n            </Row>\r\n            <Row className=\"justify-content-md-center\" style={{ padding: 10 }}>\r\n              <Button variant=\"warning\" onClick={clearState}>\r\n                Clear Local Storage\r\n              </Button>\r\n            </Row>\r\n            <Row className=\"justify-content-md-center\" style={{ padding: 10 }}>\r\n              <Button variant=\"success\" onClick={downloadJsonFile}>\r\n                Export to Json\r\n              </Button>\r\n            </Row>\r\n            <Row className=\"justify-content-md-center\" style={{ padding: 10 }}>\r\n              <Form.File\r\n                label=\"Import from Json\"\r\n                accept=\"application/json\"\r\n                custom\r\n                onChange={(e) => loadFile(e,loadFigure)}\r\n              />\r\n            </Row>\r\n          </Col>\r\n          <Col\r\n            className=\"borderT \"\r\n            style={{ padding: 0 }}\r\n            sm={8}\r\n            md={8}\r\n            lg={8}\r\n            ref={canvasColRef}>\r\n            {!!canvasColRef ? (\r\n              <Canvas\r\n                canvasColRef={canvasColRef}\r\n                size={size}\r\n                canvasRef={canvasRef}\r\n                mouse={mouse}\r\n                setMouse={setMouse}\r\n                selected={selected}\r\n                setSelected={setSelected}\r\n              />\r\n            ) : (\r\n              \"Canvas not Load\"\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n  return body;\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  figures: state.reducer_figures.figures,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  deleteFigure,\r\n  clearState,\r\n  loadFigure,\r\n})(Layout);\r\n","export const loadFile = (e, loadFigure) => {\r\n  const file = e.target.files[0];\r\n  const reader = new FileReader();\r\n  reader.readAsText(file);\r\n  reader.onload = function () {\r\n    const newFile = reader.result;\r\n    loadFigure(JSON.parse(newFile));\r\n  };\r\n  reader.onerror = function () {\r\n    console.log(reader.error);\r\n  };\r\n  reader.loadend = function () {\r\n    reader.abort();\r\n  };\r\n  e.target.value = \"\";\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  ADD_FIGURE,\r\n  DELETE_FIGURE,\r\n  SET_FIGURES,\r\n  CLEAR_STATE,\r\n  LOAD_FIGURES,\r\n} from \"../constants/types\";\r\nconst localFigures = JSON.parse(localStorage.getItem(\"figures\"));\r\nconst initialState = {\r\n  figures: localFigures ? localFigures : [],\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case DELETE_FIGURE:\r\n      localStorage.setItem(\r\n        \"figures\",\r\n        JSON.stringify(state.figures.filter((figure) => figure !== payload))\r\n      );\r\n      return {\r\n        ...state,\r\n        figures: state.figures.filter((figure) => figure !== payload),\r\n      };\r\n    case ADD_FIGURE:\r\n      localStorage.setItem(\r\n        \"figures\",\r\n        JSON.stringify([...state.figures, payload])\r\n      );\r\n      return {\r\n        ...state,\r\n        figures: [...state.figures, payload],\r\n      };\r\n    case SET_FIGURES:\r\n      return {\r\n        ...state,\r\n        figures: payload,\r\n      };\r\n    case LOAD_FIGURES:\r\n      localStorage.clear();\r\n      localStorage.setItem(\"figures\", JSON.stringify(payload));\r\n      return {\r\n        ...state,\r\n        figures: payload,\r\n      };\r\n    case CLEAR_STATE:\r\n      localStorage.clear();\r\n      return {\r\n        ...state,\r\n        figures: [],\r\n      };\r\n\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport reducer_figures from \"./reducer_figures\";\r\nexport default combineReducers({ reducer_figures });\r\n","import { createStore,applyMiddleware  } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport Layout from './container/Layout'\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Layout />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}